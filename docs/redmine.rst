Redmine
=============

RedmineのチケットをSlackから参照可能にするプラグインです。

機能概要
=========

- Slackで t<\d+>と発言したら、チケット情報をRedmineから取得して回答します
- RedmineのプロジェクトIDと紐付けているSlackチャンネルでしか有効になりません
- RedmineへのAPIアクセスはDBに登録したユーザのAPIキーを使って行われます

入力/出力
---------------

成功
^^^^^^^^

::

  << 僕は t56938について質問があります
  
  >> レコメンドの残件
  
  htps://project.beproud.jp/redmine/issues/56938


Slackのユーザは登録されていない
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

::

  << 僕は t56938について質問があります
  
  >> だれだれはRedmineUserテーブルに登録されていません。

チケット番号を発言したユーザーの情報が redmine_users テーブルに登録されていない場合に発生します。
SlackのユーザidとRedmineユーザのAPIキーを redmine_users テーブルに登録してください。


レスポンスエラー
^^^^^^^^^^^^^^^^^^^^^^^^^

::

  << 僕は t56938について質問があります
  
  >> Redmineにアクセスできませんでした。

ボットはAPIに当たった時 200以外のステータスコードを取得しました。発言したユーザにプロジェクトのアクセスを開けたら、直すはずです。

チャネル Permission
^^^^^^^^^^^^^^^^^^^^^^^
::

  << 僕は t56938について質問があります
  
  >> 56938は＃randomで表示できません。

Slackのチャンネルidが redmine_projectchannel テーブルに登録されていない場合に発生します。

環境設定
-------------

REDMINE_URL: チケットのURLの元 例: https://project.beproud.jp/redmine/issues/

Redmineの期限切れ、期限切れそうなチケット通知の設定方法
--------------------------------------------------

$redmine add <redmine_project_identifier> コマンドでSlackチャンネルとRedmineプロジェクトを紐付けると自動で通知が設定されます。

- Redmineチケットの期日を登録しないと、通知は来ないです。
- チケットの通知は毎週月曜日の午前9時です。
- 期限切れそうなチケットは、1週間以内で期限を過ぎるチケットです。
